{% extends 'index.html' %}

{% block content %}
<div class="container mt-4">
    <h2>Create Packing Entry</h2>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}
    {% endwith %}

    <form method="post" action="{{ url_for('packing.packing_create') }}">
        <div class="mb-3">
            <label for="packing_date" class="form-label">Packing Date</label>
            <input type="date" class="form-control" id="packing_date" name="packing_date" required>
        </div>
        <div class="mb-3">
            <label for="product_description" class="form-label">Product Description</label>
            <input type="text" class="form-control" id="product_description" name="product_description">
        </div>
        <div class="mb-3">
            <label for="product_code" class="form-label">Product Code</label>
            <input type="text" class="form-control" id="product_code" name="product_code" required>
        </div>
        <div class="mb-3">
            <label for="special_order_kg" class="form-label">Special Order KG</label>
            <input type="number" step="0.01" class="form-control" id="special_order_kg" name="special_order_kg" required>
        </div>
        <div class="mb-3">
            <label for="avg_weight_per_unit" class="form-label">Average Weight per Unit</label>
            <input type="number" step="0.01" class="form-control" id="avg_weight_per_unit" name="avg_weight_per_unit" required>
        </div>
        <div class="mb-3">
            <label for="soh_requirement_units_week" class="form-label">SOH Requirement Units/Week</label>
            <input type="number" step="1" class="form-control" id="soh_requirement_units_week" name="soh_requirement_units_week" required>
        </div>
        <div class="mb-3">
            <label for="total_stock_multiplier" class="form-label">Total Stock Multiplier</label>
            <input type="number" step="0.01" class="form-control" id="total_stock_multiplier" name="total_stock_multiplier" required>
        </div>
        <div class="mb-3">
            <label for="weekly_average" class="form-label">Weekly Average (Optional)</label>
            <input type="number" step="0.01" class="form-control" id="weekly_average" name="weekly_average">
        </div>
        <!-- Optional: Display requirements_kg as read-only if needed -->
        <!-- <div class="mb-3">
            <label for="requirements_kg" class="form-label">Requirements KG (Calculated)</label>
            <input type="number" step="0.01" class="form-control" id="requirements_kg" name="requirements_kg" readonly>
        </div> -->
        <button type="submit" class="btn btn-primary">Create</button>
        <a href="{{ url_for('packing.packing_list') }}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}